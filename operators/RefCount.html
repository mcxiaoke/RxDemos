<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>File RefCount.html in D:\git\RxDocs\operators</title>
  <link rel="stylesheet" href="../style/github-style.css">
</head>
<body>
<h2 id="refcount">RefCount</h2>
<p>让一个可连接的Observable行为像普通的Observable</p>
<p><img src="../images/operators/publishRefCount.c.png" alt="refCount"></p>
<p>可连接的Observable (<em>connectable Observable</em>)与普通的Observable差不多，不过它并不会在被订阅时开始发射数据，而是直到使用了<code>Connect</code>操作符时才会开始。用这种方法，你可以在任何时候让一个Observable开始发射数据。</p>
<p><code>RefCount</code>操作符把从一个可连接的Observable连接和断开的过程自动化了。它操作一个可连接的Observable，返回一个普通的Observable。当第一个订阅者订阅这个Observable时，<code>RefCount</code>连接到下层的可连接Observable。<code>RefCount</code>跟踪有多少个观察者订阅它，直到最后一个观察者完成才断开与下层可连接Observable的连接。</p>
<p><img src="../images/operators/publishRefCount.png" alt="refCount"></p>
<p>RxJava中的实现为<code>refCount</code>，还有一个操作符叫<code>share</code>，它的作用等价于对一个Observable同时应用<code>publish</code>和<code>refCount</code>操作。</p>
<ul>
<li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/observables/ConnectableObservable.html#refCount(">refCount()</a>)</li>
<li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#share(">share()</a>)</li>
</ul>
</body>
<html>
